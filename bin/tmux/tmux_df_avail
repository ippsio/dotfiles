#!/bin/bash

# % df -k / 実行結果例
# Filesystem     1024-blocks    Used Available Capacity iused      ifree %iused  Mounted on
# /dev/disk3s3s1   971350180 8850156 308081144     3%  355382 3080811440    0%   /
#df -k /| awk '{ if (NR==2) { printf "Avail %.0fG Used %.0fG", $4*1024/10^9, ($2-$4)*1024/10^9 }}'
sec=$(date +'%S')
if [[ "$(expr ${sec} % 4 )" -lt 3 ]]; then
  df -k /| awk '{ if (NR==2) { printf "free %.0fG", $4*1024/10^9 }}'
else
  df -k /| awk '{ if (NR==2) { printf "used %.0fG", ($2-$4)*1024/10^9 }}'
fi
