# statusline
[[plugins]]
repo = 'itchyny/lightline.vim'
hook_add = '''
  set laststatus=2
  let g:lightline = {
    \  'colorscheme': 'powerline',
    \  'inactive': {'left': [ ['mode', 'paste'], ['readonly', 'filepath']], 'right': [ [ 'lineinfo' ]] },
    \  'active': {  'left': [ ['mode', 'paste'], ['readonly', 'filepath']], 'right': [ [ 'lineinfo' ], ['info']] },
    \  'component': { 'lineinfo': '%l/%L(%p%%):%v%<', 'info': '%{%StrGitMergeBase()%}(%{%StrUnderCursor()%} 0x%02B)' . &fileformat . '|' . &fileencoding . '%<'},
    \  'component_function': { 'filepath': 'FileName', 'git': 'StrGitMergeBase'},
    \ }
    "\ 'mode_map': {'n': 'N', 'i': 'I', 'R': 'R', 'v': 'V', 'V': 'V', "\<C-v>": 'V', 'c': 'C', 's': 'S', 'S': 'S', "\<C-s>": 'S', 't': 'TERMINAL' },

  function! FileName()
    return substitute(expand("%:p"), $HOME, "~", "g") . ( &modified ? '|+' : '')
  endfunction

  function! StrUnderCursor()
    return matchstr(getline('.'), '.', col('.')-1)
  endfunction

  function! StrGitMergeBase()
    return g:gitgutter_diff_base != "" ? '[' . g:gitgutter_diff_base . ']' : ''
  endfunction
'''

